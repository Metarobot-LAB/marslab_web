<!-- People 드롭다운 메뉴 제어 스크립트 -->
<script>
// People 드롭다운 메뉴 제어
(function() {
  function initPeopleDropdown() {
    // 다양한 가능한 선택자 시도
    const selectors = [
      '.nav__item',
      '.masthead__menu-item',
      '.greedy-nav__item',
      'li[class*="nav"]',
      'li[class*="menu"]'
    ];
    
    let peopleItem = null;
    let peopleLink = null;
    let peopleChildren = null;
    
    // People 메뉴 항목 찾기
    for (let selector of selectors) {
      const items = document.querySelectorAll(selector);
      for (let item of items) {
        const link = item.querySelector('a');
        if (link && link.textContent.trim() === 'People') {
          peopleItem = item;
          peopleLink = link;
          // children 찾기 (다양한 가능한 구조)
          peopleChildren = item.querySelector('ul') || 
                          item.querySelector('.nav__children') ||
                          item.querySelector('.submenu') ||
                          item.querySelector('[class*="children"]');
          break;
        }
      }
      if (peopleItem) break;
    }
    
    if (!peopleItem || !peopleLink) {
      console.log('People menu not found, retrying...');
      setTimeout(initPeopleDropdown, 500);
      return;
    }
    
    console.log('People menu found:', peopleItem, peopleLink, peopleChildren);
    
    // People 링크 클릭 완전 차단
    peopleLink.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      e.stopImmediatePropagation();
      return false;
    }, true);
    
    // href 제거 또는 비활성화
    if (peopleLink.getAttribute('href') === '' || 
        peopleLink.getAttribute('href') === '#' ||
        !peopleLink.getAttribute('href')) {
      peopleLink.setAttribute('href', 'javascript:void(0);');
      peopleLink.style.pointerEvents = 'none';
      peopleLink.style.cursor = 'default';
    }
    
    // children이 있는 경우 드롭다운 제어
    if (peopleChildren) {
      // 초기 상태: 숨김
      peopleChildren.style.display = 'none';
      peopleChildren.style.visibility = 'hidden';
      peopleChildren.style.opacity = '0';
      peopleChildren.classList.add('people-dropdown');
      
      // 호버 시 드롭다운 표시
      peopleItem.addEventListener('mouseenter', function() {
        peopleChildren.style.display = 'block';
        peopleChildren.style.visibility = 'visible';
        peopleChildren.style.opacity = '1';
        peopleChildren.style.position = 'absolute';
        peopleChildren.style.zIndex = '1000';
        peopleChildren.style.background = '#fff';
        peopleChildren.style.border = '1px solid #ddd';
        peopleChildren.style.borderRadius = '4px';
        peopleChildren.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
        peopleChildren.style.padding = '8px 0';
        peopleChildren.style.marginTop = '4px';
        peopleChildren.style.minWidth = '150px';
      });
      
      // 마우스가 떠날 때 드롭다운 숨기기
      peopleItem.addEventListener('mouseleave', function(e) {
        setTimeout(function() {
          if (!peopleItem.matches(':hover') && !peopleChildren.matches(':hover')) {
            peopleChildren.style.display = 'none';
            peopleChildren.style.visibility = 'hidden';
            peopleChildren.style.opacity = '0';
          }
        }, 200);
      });
      
      // 드롭다운 자체에 마우스가 있을 때도 유지
      peopleChildren.addEventListener('mouseenter', function() {
        this.style.display = 'block';
        this.style.visibility = 'visible';
        this.style.opacity = '1';
      });
      
      peopleChildren.addEventListener('mouseleave', function() {
        this.style.display = 'none';
        this.style.visibility = 'hidden';
        this.style.opacity = '0';
      });
    } else {
      console.log('People children menu not found');
    }
  }
  
  // DOM 로드 후 실행
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initPeopleDropdown);
  } else {
    initPeopleDropdown();
  }
  
  // 추가로 약간의 지연 후에도 시도 (동적 로딩 대응)
  setTimeout(initPeopleDropdown, 1000);
})();
</script>

